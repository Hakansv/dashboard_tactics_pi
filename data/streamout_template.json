{
    /*
      This is the database schema for the time series based Influx DB
      and the configuration options for the data streaming from dashboard_tactics_pi instruments.
      The user editable streamout.json is in the OpenCPN's data directory for dashboard_tactics_pi plug-in.
      The template streamout_template.json is in in the OpenCPN program's plugin directory for dashboard_tactics_pi.
    */

    /*
      Definition of the data writing method, either HTTP Influx DB API, or file based.
      If a lot of data is selected below to be stored, with high sampling rate (like unlimited)
      the HTTP socket interface may get saturated. In this case, the file system is
      faster: Influx DB line protocol sentences are written in a file. This file can be
      streamed at its own pace to Influx DB either by scraper or pushed by Telegraf, like its
      Tail Input Plugin.
    */
    "influxdb" : {
        "target"    : "localhost:9999", // either <host>:<port or <filename>
        "api"       : "v2",             // currently only v2 is supported
        "org"       : "myorg",          // Influx DB organization name (only HTTP)
        "bucket"    : "mybucket",       // Influx DB bucket to write to (only HTTP)
        "precision" : "ms",             // ns, us, ms, s? (only HTTP, see "timestamps")
        "token"     : "ToLdk3DNs3PqbKNS2hdZMureuGpk4IR1xSvo__VOYPNmPEnaM9bFc8SRmuZ5BkyKYcNEewiE0eu4lE0OUWRt8w=="
    }, // note the token is used only HTTP: generate it to allow writing to the "bucket"

    // Data streamer configuration
    "streamer" : {
        "connectionretry" : 5,           // [s] (min. value = 1s to reduce CPU load)
        "linesperwrite"   : 50,          // number of lines per Write() - optimize throughput
        "timestamps"      : "local",     // "local" or "db" (HTTP) time [see "precision"]
        "verbosity"       : 1            // 0=quiet, 1=1msg/event, 2=verbose, >=3=debug
    },

    /*
      Sentence mapping as a DB schema.
      The mapping of dashoard_tactics_pi sentences is according to
          ../instruments.h : normally, do not change "sentence" and "mask" values.
      The template DB schema is according to the Signal K schema, see
          https://github.com/SignalK/specification/blob/master/schemas/

      Sentence data management andthrottling settings.
      "store"=false: item will not be stored
      "interval" 0 : save all the data items received
                >0 : define in seconds the minimum time in seconds which shall be elapsed
                     before the next data item can be sent to the streamer
    */
    "dbschema" : [
        {
            "sentence"   : "OCPN_DBP_STC_SAT",
            "mask"       : 17,
            "store"      : true,
            "interval"   : 10,
            "measurement" : "navigation",
            "prop1"       : "gnss",
            "prop2"       : "",
            "prop3"       : "",
            "field1"      : "satellites",
            "field2"      : "",
            "field3"      : ""
        },
    ]

}
        
