language: cpp
install:
- sudo apt-get -qq update
- sudo apt-get install libwxgtk3.0-dev libwxgtk3.0-0 libgps-dev libglu1-mesa-dev libgtk2.0-dev
  libbz2-dev libtinyxml-dev
- sudo apt-get install libportaudio2 portaudio19-dev libcurl4-openssl-dev libexpat1-dev
  libcairo2-dev librtlsdr-dev
- sudo apt-get install rpm
script:
- if [[ "${COVERITY_SCAN_BRANCH}" == 1 ]]; then echo "Don't build on coverty_scan
  branch."; exit 0; fi
- mkdir build && cd build
- cmake -DCMAKE_BUILD_TYPE=Release ../
- make -j2 package
notifications:
  email: false
git:
  depth: 10
before_install:
- if [ "$CXX" = "g++" ]; then export CXX="g++-6" CC="gcc-6"; fi
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-6
    - g++-6
deploy:
- provider: releases
  api_key: "$GitHub_auth_token"
  file_glob: true
  file: "$TRAVIS_BUILD_DIR/build/*.{deb,rpm,dmg,txz,pkg.tar.xz}"
  skip_cleanup: true
  on:
    tags: true
    branch: dev
    condition: "${#GitHub_auth_token} != 0"
dd:
  secure: MD9qMrWp5dE4NQ6Vb+VrolORKIj70x3/FU066o9PZh3GLV8nDC9YTgspys+c/nDo2GbFrKcyzFu3BpeA1G0cfBOtzInKUkwm7Pl4TWCxgRuZiTE9ZwU0KaGgyUNeKDMKdjR7XdEfkqCd9iJZD+/dqDDwW3Nu4ScAmy3yyEL5AeQVmFFimdnwmpayR3RFX1UML5LBzeHJLXWFC2yPLIXkBoE78zdQLGISjxrzegYYOB+vql4OPmc9NFSDgsNpeMGtTfa0UQxq8wnOpClUB3nHG2sh8zR2iJHWzxU1aYb2jAvki1n/uJwHA+gFusgIZ9FUO65UL0D6aJTp7j4UTcQOe1s01e1q04exV4stVOMczJKqc76tSc7Bgl4lVdzlBUeFHsIYIbsovp0Q257L8oBenX23pTlAgSMXJSPz0eg7xiglyfElGQvBgkVRnJJc1lLGUhoGb2mUJJ993ramO1RjHn0TMMbPlusPow8Us8iVbKO866xzQxoSW+i65vXgXa/VYNRob7lqsBCCF7FmW2EiAfpCBI2arNaGw6zkE6NEGGPZKTnL7wbbdyaOFiedPlK9fAs0Bm3ba+fCmLItyiL1a7aJ5T0TWoGFe+Ky9KFnDM/LXeVkw1qM1UctDnDsPX1oaEFq3NUPVmuu3/48/+2qNOJFoE2hrKF7PHvZYYhw6ks=
